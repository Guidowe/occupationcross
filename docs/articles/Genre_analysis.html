<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Genre_analysis • occupationcross</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Genre_analysis">
<meta property="og:description" content="occupationcross">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">occupationcross</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/occupationcross.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Genre_analysis.html">Genre_analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Guidowe/occupationcross/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Genre_analysis_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Genre_analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Guidowe/occupationcross/blob/master/vignettes/Genre_analysis.Rmd"><code>vignettes/Genre_analysis.Rmd</code></a></small>
      <div class="hidden name"><code>Genre_analysis.Rmd</code></div>

    </div>

    
    
<!-- badges: start -->
<!-- badges: end -->
<p>You can combine <em>occupationcross</em> with genre information available in households surveys. The package allows for international comparations on the genre distribution of occupations. Let’s see a few examples for genre analysis usign the parameters <code>add_major_groups</code> and <code>add_skill</code> of our function <code>reclassify_to_isco08</code></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version of occupationcross from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#devtools::install_github("Guidowe/occupationcross")</span></code></pre></div>
</div>
<div id="comparing-isco-08-major-groups-by-genre-in-argentina-and-the-usa" class="section level2">
<h2 class="hasAnchor">
<a href="#comparing-isco-08-major-groups-by-genre-in-argentina-and-the-usa" class="anchor"></a>Comparing ISCO-08 major groups by genre in Argentina and the USA</h2>
<p>Load first <em>occupationcross</em>, <em>tidyverse</em> and the package for the Argetinean households survey <em>eph</em></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Guidowe/occupationcross">occupationcross</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/holatam/eph">eph</a></span><span class="op">)</span></code></pre></div>
<p>We get the dataframe from the individual version of the survey for the 1st quarter 2018 and organize its labels using the <em>eph</em> package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eph.2018.01</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/eph/man/get_microdata.html">get_microdata</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2018</span>, 
                             trimester <span class="op">=</span> <span class="fl">1</span>, 
                             type<span class="op">=</span><span class="st">'individual'</span><span class="op">)</span> <span class="op">%&gt;%</span> 
               <span class="fu"><a href="https://rdrr.io/pkg/eph/man/organize_labels.html">organize_labels</a></span><span class="op">(</span><span class="va">.</span>, type<span class="op">=</span><span class="st">'individual'</span><span class="op">)</span></code></pre></div>
<p>Using <code>reclassify_to_isco08</code> and setting <code>add_major_groups</code> as TRUE, we obtain the reclassification for the EPH’s variable <em>“PP04D_COD”</em>, which is originally clasified trough the national clasification system CNO2001.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eph.2018.01</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reclassify_to_isco08.html">reclassify_to_isco08</a></span><span class="op">(</span><span class="va">eph.2018.01</span>, 
                                    <span class="va">PP04D_COD</span>, 
                                    classif_origin<span class="op">=</span><span class="st">"CNO2001"</span>, 
                                    add_major_groups <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Now we can tabulate our new variable <em>“major_group”</em> using the EPH’s variable for genre <em>“CH04”</em> and plot the results</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">genre_composition.arg</span><span class="op">&lt;-</span> <span class="va">eph.2018.01</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">ESTADO</span><span class="op">==</span><span class="fl">1</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">major_group</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>genre<span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">CH04</span><span class="op">==</span><span class="fl">1</span> <span class="op">~</span> <span class="st">"Male"</span>, 
                          <span class="va">CH04</span><span class="op">==</span><span class="fl">2</span> <span class="op">~</span> <span class="st">"Female"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">major_group</span>,<span class="va">genre</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span> <span class="op">(</span>absolute<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">PONDERA</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">major_group</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>percentage<span class="op">=</span> <span class="va">absolute</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">absolute</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>major_group <span class="op">=</span> <span class="fu">str_wrap</span><span class="op">(</span><span class="va">major_group</span>,width <span class="op">=</span> <span class="fl">25</span><span class="op">)</span><span class="op">)</span>



<span class="fu">ggplot</span><span class="op">(</span><span class="va">genre_composition.arg</span>,
       <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">major_group</span>,y <span class="op">=</span> <span class="va">percentage</span>,fill <span class="op">=</span> <span class="va">genre</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sex composition of employed persons by major groups"</span>,
       subtitle <span class="op">=</span> <span class="st">"Argentina - 2018"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>axis.title <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
        legend.title <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/scale_hc.html">scale_fill_hc</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">scale_y_continuous</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/label_percent.html">percent</a></span><span class="op">)</span><span class="op">+</span>
  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="Genre_analysis_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>The graph above shows the sex composition of each major group. The major group 1 (Managers) is unevenly distributed since 68% of people working at these occupations are male. Occupations from major groups 8 and 7 - related to shop-floor industrial activities - are mostly done by men (87% and 90% respectivly).</p>
<p>Let’s compare these results to the occupation distribution by sex for the USA. We shall use de sample toy-database of the Current Population Survey, which is already already embedded in this package. First, use <code>reclassify_to_isco08</code> in order to reclassify the variable <em>“OCC”</em> that contains the occupation clasification whit the <em>“Census2010”</em> system. Set <code>add_major_groups</code> as TRUE.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">cps.2018</span> <span class="op">&lt;-</span>  <span class="fu"><a href="../reference/reclassify_to_isco08.html">reclassify_to_isco08</a></span><span class="op">(</span><span class="va">toy_base_ipums_cps_2018</span>, 
                                    <span class="va">OCC</span>, 
                                    classif_origin<span class="op">=</span><span class="st">"Census2010"</span>, 
                                    add_major_groups <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Now we tabulate data and plot it.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">genre_composition.usa</span><span class="op">&lt;-</span> <span class="va">cps.2018</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">LABFORCE</span><span class="op">==</span><span class="fl">2</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">major_group</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>genre<span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">SEX</span><span class="op">==</span><span class="fl">1</span> <span class="op">~</span> <span class="st">"Male"</span>, 
                          <span class="va">SEX</span><span class="op">==</span><span class="fl">2</span> <span class="op">~</span> <span class="st">"Female"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">major_group</span>,<span class="va">genre</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">summarise</span> <span class="op">(</span>absolute<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">group_by</span><span class="op">(</span><span class="va">major_group</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>percentage<span class="op">=</span> <span class="va">absolute</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">absolute</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>major_group <span class="op">=</span> <span class="fu">str_wrap</span><span class="op">(</span><span class="va">major_group</span>,width <span class="op">=</span> <span class="fl">25</span><span class="op">)</span><span class="op">)</span>


<span class="fu">ggplot</span><span class="op">(</span><span class="va">genre_composition.usa</span>,
       <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">major_group</span>,y <span class="op">=</span> <span class="va">percentage</span>,fill <span class="op">=</span> <span class="va">genre</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sex composition of employed persons by major groups"</span>,
       subtitle <span class="op">=</span> <span class="st">"USA - 2018"</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>axis.title <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
        legend.title <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/scale_hc.html">scale_fill_hc</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
  <span class="fu">scale_y_continuous</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/label_percent.html">percent</a></span><span class="op">)</span><span class="op">+</span>
  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="Genre_analysis_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>The graph shows that employment at major group 1 (Managers) is more equaly distributed, whereas women represent 53% of total employmen and men 47% (…. description)</p>
<p>The package <em>occupationcross</em> has thereby allowed us to carry out an international comparison based on different occupations classification systems. The same analysis that we have put forward for genre could be done using any of the socio-economic variables avaiable in datasets, such as age, region, incomes, etc.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Guido Weksler, Facundo Lastra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
